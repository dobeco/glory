(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ad-edit"],{"0bfb":function(t,e,r){"use strict";var n=r("cb7c");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"11e9":function(t,e,r){var n=r("52a7"),a=r("4630"),o=r("6821"),s=r("6a99"),i=r("69a8"),c=r("c69a"),u=Object.getOwnPropertyDescriptor;e.f=r("9e1e")?u:function(t,e){if(t=o(t),e=s(e,!0),c)try{return u(t,e)}catch(r){}if(i(t,e))return a(!n.f.call(t,e),t[e])}},"3b2b":function(t,e,r){var n=r("7726"),a=r("5dbc"),o=r("86cc").f,s=r("9093").f,i=r("aae3"),c=r("0bfb"),u=n.RegExp,l=u,p=u.prototype,f=/a/g,m=/a/g,d=new u(f)!==f;if(r("9e1e")&&(!d||r("79e5")(function(){return m[r("2b4c")("match")]=!1,u(f)!=f||u(m)==m||"/a/i"!=u(f,"i")}))){u=function(t,e){var r=this instanceof u,n=i(t),o=void 0===e;return!r&&n&&t.constructor===u&&o?t:a(d?new l(n&&!o?t.source:t,e):l((n=t instanceof u)?t.source:t,n&&o?c.call(t):e),r?this:p,u)};for(var b=function(t){t in u||o(u,t,{configurable:!0,get:function(){return l[t]},set:function(e){l[t]=e}})},g=s(l),h=0;g.length>h;)b(g[h++]);p.constructor=u,u.prototype=p,r("2aba")(n,"RegExp",u)}r("7a56")("RegExp")},"5dbc":function(t,e,r){var n=r("d3f4"),a=r("8b97").set;t.exports=function(t,e,r){var o,s=e.constructor;return s!==r&&"function"==typeof s&&(o=s.prototype)!==r.prototype&&n(o)&&a&&a(t,o),t}},"8b97":function(t,e,r){var n=r("d3f4"),a=r("cb7c"),o=function(t,e){if(a(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{n=r("9b43")(Function.call,r("11e9").f(Object.prototype,"__proto__").set,2),n(t,[]),e=!(t instanceof Array)}catch(a){e=!0}return function(t,r){return o(t,r),e?t.__proto__=r:n(t,r),t}}({},!1):void 0),check:o}},9093:function(t,e,r){var n=r("ce10"),a=r("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,a)}},"93b9":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"about"},[r("h1",[t._v(t._s(t.id?"编辑":"新建")+"广告位")]),r("el-form",{ref:"ruleForm",attrs:{"label-width":"120px",model:t.model,rules:t.rules}},[r("el-form-item",{attrs:{label:"名称",prop:"name"}},[r("el-input",{model:{value:t.model.name,callback:function(e){t.$set(t.model,"name",e)},expression:"model.name"}})],1),r("el-form-item",{attrs:{label:"广告"}},[r("el-button",{attrs:{size:"small"},on:{click:function(e){return t.model.items.push({})}}},[r("i",{staticClass:"el-icon-plus"}),t._v(" 添加广告\n      ")]),r("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex"}},t._l(t.model.items,function(e,n){return r("el-col",{key:n,attrs:{md:24}},[r("el-form-item",{attrs:{label:"跳转链接 (URL)",prop:"url"}},[r("el-input",{attrs:{type:"url"},model:{value:e.url,callback:function(r){t.$set(e,"url",r)},expression:"item.url"}})],1),r("el-form-item",{staticStyle:{"margin-top":"0.5rem"},attrs:{label:"图片",prop:"image"}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.uploadUrl,headers:t.getAuthHeaders(),"show-file-list":!1,"on-success":function(r){return t.$set(e,"image",r.url)}}},[e.image?r("img",{staticClass:"avatar",attrs:{src:e.image}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),r("el-form-item",[r("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(e){return t.model.items.splice(n,1)}}},[t._v("删除")])],1)],1)}),1)],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.save("ruleForm")}}},[t._v("保存")])],1)],1)],1)},a=[],o=(r("96cf"),r("3b8d")),s=(r("3b2b"),{props:{id:{}},data:function(){return{model:{items:[]},rules:{name:[{required:!0,message:"请输入广告",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20 个字符",trigger:"blur"}],image:[{required:!0,message:"请上传广告图片",trigger:"blur"}]}}},methods:{save:function(t){var e=this;this.$refs[t].validate(function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(r){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=14;break}if(!e.id){t.next=7;break}return t.next=4,e.$http.put("rest/ads/".concat(e.id),e.model);case 4:t.sent,t.next=10;break;case 7:return t.next=9,e.$http.post("rest/ads",e.model);case 9:t.sent;case 10:e.$router.push("/ads/list"),e.$message({type:"success",message:"保存成功"}),t.next=16;break;case 14:return console.log("error submit!!"),t.abrupt("return",!1);case 16:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},fetch:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("rest/ads/".concat(this.id));case 2:e=t.sent,this.model=Object.assign({},this.model,e.data);case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},created:function(){this.id&&this.fetch()}}),i=s,c=r("2877"),u=Object(c["a"])(i,n,a,!1,null,null,null);e["default"]=u.exports},aae3:function(t,e,r){var n=r("d3f4"),a=r("2d95"),o=r("2b4c")("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==a(t))}}}]);